{
  "blueprints": [
    {
      "name": "api_availability",
      "artifact_ref": "SLO",
      "params": {
        "env": "String",
        "service": "String"
      },
      "inputs": {
        "vendor": "datadog",
        "value": "numerator / denominator",
        "queries": {
          "numerator": "sum:http.requests{$$env->env$$,$$service->service$$,!status:5xx}",
          "denominator": "sum:http.requests{$$env->env$$,$$service->service$$}"
        }
      }
    },
    {
      "name": "api_latency_p99",
      "artifact_ref": "SLO",
      "params": {
        "env": "String { x | x in { staging, production } }",
        "service": "String"
      },
      "inputs": {
        "vendor": "datadog",
        "value": "numerator / denominator",
        "queries": {
          "numerator": "sum:http.latency.p99{$$env->env$$,$$service->service$$,le:500}",
          "denominator": "sum:http.latency.p99{$$env->env$$,$$service->service$$}"
        }
      }
    }
  ]
}